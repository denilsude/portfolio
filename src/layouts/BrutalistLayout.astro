---
// BrutalistLayout.astro - High-contrast brutalist design
const { title = "Levi Lucena - Portfolio" } = Astro.props;
const currentPath = Astro.url.pathname;
---

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{title}</title>
  <meta name="description" content="Portfolio de Levi Lucena - Engenheiro de Software & Engenheiro de Soluções de IA. Design brutalista com alto contraste e impacto visual." />
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />

  <!-- Styles -->
  <style is:global>
    :root {
      --bg-color: #050505;
      --text-color: #f2f2f2;
      --accent-color: #ccff00; /* Acid Green */
      --border-color: #333333;
      --font-heading: "Anton", sans-serif;
      --font-body: "Inter", sans-serif;
      --cursor-size: 20px;
    }

    /* THEME: Acid (Default) */
    [data-theme="acid"] {
      --bg-color: #050505;
      --text-color: #f2f2f2;
      --accent-color: #ccff00;
      --border-color: #333333;
    }

    /* THEME: Cyber */
    [data-theme="cyber"] {
      --bg-color: #0a0a0f;
      --text-color: #e0e0e0;
      --accent-color: #00ffff;
      --border-color: #1a3a4a;
    }

    /* THEME: Neon */
    [data-theme="neon"] {
      --bg-color: #0d0d0d;
      --text-color: #ffffff;
      --accent-color: #ff00ff;
      --border-color: #3d1a3d;
    }

    /* THEME: Fire */
    [data-theme="fire"] {
      --bg-color: #0f0805;
      --text-color: #fff5eb;
      --accent-color: #ff6600;
      --border-color: #3d2a1a;
    }

    /* THEME: Ocean */
    [data-theme="ocean"] {
      --bg-color: #051015;
      --text-color: #e8f4f8;
      --accent-color: #00bfff;
      --border-color: #1a3040;
    }

    /* THEME: Sunset */
    [data-theme="sunset"] {
      --bg-color: #150505;
      --text-color: #fff0f0;
      --accent-color: #ff4757;
      --border-color: #4a1a1a;
    }

    /* THEME: Gold */
    [data-theme="gold"] {
      --bg-color: #0a0a05;
      --text-color: #f5f5dc;
      --accent-color: #ffd700;
      --border-color: #3d3a1a;
    }

    /* THEME: Mint */
    [data-theme="mint"] {
      --bg-color: #050f0a;
      --text-color: #f0fff4;
      --accent-color: #00ff7f;
      --border-color: #1a3d2a;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      cursor: none;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: var(--font-body);
      overflow-x: hidden;
      width: 100vw;
      line-height: 1.6;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    ul {
      list-style: none;
    }

    /* CUSTOM CURSOR */
    #cursor {
      position: fixed;
      top: 0;
      left: 0;
      width: var(--cursor-size);
      height: var(--cursor-size);
      border: 2px solid var(--accent-color);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      transform: translate(-50%, -50%);
      transition: width 0.3s, height 0.3s, background-color 0.3s;
      mix-blend-mode: difference;
    }

    #cursor.hovered {
      width: 50px;
      height: 50px;
      background-color: var(--accent-color);
      border-color: transparent;
      opacity: 0.8;
    }

    /* LAYOUT UTILITIES */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    section {
      padding: 6rem 0;
    }

    /* NAVIGATION */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 2rem;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 100;
      mix-blend-mode: difference;
      background: transparent;
    }

    .logo {
      font-family: var(--font-heading);
      font-size: 2rem;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    nav ul {
      display: flex;
      gap: 2rem;
    }

    nav a {
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.9rem;
      position: relative;
    }

    nav a::after {
      content: "";
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0%;
      height: 2px;
      background-color: var(--accent-color);
      transition: width 0.3s ease;
    }

    nav a:hover::after,
    nav a.active::after {
      width: 100%;
    }

    nav a.active {
      color: var(--accent-color);
    }

    /* ANIMATED TICKER */
    .ticker-wrap {
      width: 100%;
      overflow: hidden;
      background-color: var(--accent-color);
      padding: 1.5rem 0;
      border-top: 1px solid var(--border-color);
      border-bottom: 1px solid var(--border-color);
    }

    .ticker {
      display: flex;
      white-space: nowrap;
      animation: ticker 30s linear infinite;
    }

    .ticker-item {
      font-family: var(--font-heading);
      font-size: 3rem;
      color: var(--bg-color);
      text-transform: uppercase;
      padding-right: 4rem;
      display: flex;
      align-items: center;
    }

    .ticker-item::after {
      content: "•";
      margin-left: 4rem;
      font-size: 2rem;
    }

    @keyframes ticker {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }

    /* FOOTER */
    footer {
      padding: 6rem 2rem;
      border-top: 1px solid var(--border-color);
      text-align: center;
      background-color: var(--bg-color);
    }

    .footer-cta h2 {
      font-family: var(--font-heading);
      font-size: clamp(3rem, 8vw, 8rem);
      text-transform: uppercase;
      margin-bottom: 2rem;
      line-height: 0.9;
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-top: 4rem;
      flex-wrap: wrap;
    }

    .social-links a {
      font-size: 1.2rem;
      font-weight: 700;
      text-transform: uppercase;
      border: 2px solid var(--border-color);
      padding: 1rem 2rem;
      transition: 0.3s;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .social-links a i {
      font-size: 1.4rem;
      color: var(--accent-color);
      transition: 0.3s;
    }

    .social-links a:hover {
      background: var(--text-color);
      color: var(--bg-color);
      border-color: var(--accent-color);
    }

    .social-links a:hover i {
      color: var(--bg-color);
    }

    /* MOBILE RESPONSIVE */
    @media (max-width: 768px) {
      nav {
        display: none;
      }

      .ticker-item {
        font-size: 2rem;
      }

      section {
        padding: 4rem 0;
      }
    }

    /* Utility classes */
    .text-accent { color: var(--accent-color); }
    .border-accent { border-color: var(--accent-color); }
    .bg-accent { background-color: var(--accent-color); }

    /* FLOATING BUTTONS */
    .coffee-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: var(--accent-color);
      color: var(--bg-color);
      padding: 12px 20px;
      border-radius: 0;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 10px;
      z-index: 1000;
      box-shadow: 4px 4px 0 var(--text-color);
      transition: all 0.3s ease;
      font-family: var(--font-heading);
      font-size: 14px;
      font-weight: 700;
      text-transform: uppercase;
      border: 3px solid var(--text-color);
    }

    .coffee-button:hover {
      background-color: var(--text-color);
      color: var(--bg-color);
      transform: translate(-4px, -4px);
      box-shadow: 8px 8px 0 var(--accent-color);
    }

    .coffee-text {
      white-space: nowrap;
    }

    .coffee-icon-wrapper {
      position: relative;
      display: flex;
      align-items: center;
    }

    .coffee-button .fa-coffee {
      font-size: 18px;
    }

    .coffee-icon-wrapper .steam {
      position: absolute;
      top: -10px;
      width: 4px;
      height: 10px;
      background-color: var(--text-color);
      border-radius: 50%;
      opacity: 0;
      animation: steam 2s infinite;
    }

    .coffee-button:hover .coffee-icon-wrapper .steam {
      background-color: var(--accent-color);
    }

    .coffee-icon-wrapper .steam-1 {
      left: 2px;
      animation-delay: 0s;
    }

    .coffee-icon-wrapper .steam-2 {
      left: 12px;
      animation-delay: 1s;
    }

    @keyframes steam {
      0% {
        transform: translateY(0) scale(0.5);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(-15px) scale(1.2);
        opacity: 0;
      }
    }

    /* Amazon Store button */
    .amazon-store-button {
      position: fixed;
      bottom: 20px;
      left: 20px;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: all 0.3s ease;
      background-color: #ff9900;
      color: var(--bg-color);
      padding: 12px 20px;
      border-radius: 0;
      box-shadow: 4px 4px 0 var(--text-color);
      gap: 10px;
      white-space: nowrap;
      font-family: var(--font-heading);
      font-size: 14px;
      font-weight: 700;
      text-transform: uppercase;
      border: 3px solid var(--text-color);
    }

    .amazon-store-button:hover {
      background-color: var(--text-color);
      color: var(--bg-color);
      transform: translate(-4px, -4px);
      box-shadow: 8px 8px 0 #ff9900;
    }

    .amazon-store-button .fa-shopping-cart {
      font-size: 18px;
      animation: cart-bounce 3s infinite ease-in-out;
    }

    @keyframes cart-bounce {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-5px);
      }
    }

    .amazon-store-text {
      white-space: nowrap;
      display: block;
    }

    /* Mobile responsive for floating buttons */
    @media (max-width: 768px) {
      .coffee-button,
      .amazon-store-button {
        padding: 10px 14px;
        font-size: 11px;
      }

      .amazon-store-button {
        left: 10px;
        bottom: 10px;
      }

      .coffee-button {
        right: 10px;
        bottom: 10px;
      }
    }

    /* THEME SELECTOR */
    .theme-toggle-btn {
      position: fixed;
      top: 100px;
      right: 20px;
      width: 50px;
      height: 50px;
      border: 3px solid var(--accent-color);
      background-color: var(--bg-color);
      color: var(--accent-color);
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1001;
      transition: all 0.3s ease;
      cursor: none;
    }

    .theme-toggle-btn:hover {
      background-color: var(--accent-color);
      color: var(--bg-color);
      transform: rotate(30deg);
    }

    .theme-panel {
      position: fixed;
      top: 0;
      right: -320px;
      width: 320px;
      height: 100vh;
      background-color: var(--bg-color);
      border-left: 3px solid var(--accent-color);
      z-index: 1002;
      padding: 2rem;
      transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      overflow-y: auto;
    }

    .theme-panel.open {
      right: 0;
    }

    .theme-panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--border-color);
    }

    .theme-panel-header h3 {
      font-family: var(--font-heading);
      font-size: 1.5rem;
      text-transform: uppercase;
      color: var(--accent-color);
    }

    .theme-panel-close {
      width: 40px;
      height: 40px;
      border: 2px solid var(--border-color);
      background: transparent;
      color: var(--text-color);
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: none;
      transition: all 0.3s ease;
    }

    .theme-panel-close:hover {
      border-color: var(--accent-color);
      color: var(--accent-color);
    }

    .theme-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
    }

    .theme-option {
      border: 3px solid var(--border-color);
      padding: 1rem;
      cursor: none;
      transition: all 0.3s ease;
      background: transparent;
      text-align: left;
    }

    .theme-option:hover {
      border-color: var(--text-color);
      transform: translateY(-3px);
    }

    .theme-option.active {
      border-color: var(--accent-color);
      box-shadow: 4px 4px 0 var(--accent-color);
    }

    .theme-preview {
      height: 60px;
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .theme-preview-bg {
      position: absolute;
      inset: 0;
    }

    .theme-preview-accent {
      width: 30px;
      height: 30px;
      border-radius: 0;
      position: relative;
      z-index: 1;
    }

    .theme-name {
      font-family: var(--font-heading);
      font-size: 0.9rem;
      text-transform: uppercase;
      color: var(--text-color);
      display: block;
    }

    .theme-overlay {
      position: fixed;
      inset: 0;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1001;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .theme-overlay.open {
      opacity: 1;
      visibility: visible;
    }

    @media (max-width: 768px) {
      .theme-toggle-btn {
        top: auto;
        bottom: 80px;
        right: 10px;
        width: 45px;
        height: 45px;
      }

      .theme-panel {
        width: 100%;
        right: -100%;
      }
    }
  </style>
</head>
<body>
  <div id="cursor"></div>

  <header>
    <div class="logo">
      <a href="/portfolio/">LL.</a>
    </div>
    <nav>
      <ul>
        <li><a href="/portfolio/" class={currentPath === "/portfolio/" ? "active" : ""} hover-trigger>Home</a></li>
        <li><a href="/portfolio/projects" class={currentPath === "/portfolio/projects" ? "active" : ""} hover-trigger>Projects</a></li>
        <li><a href="/portfolio/about" class={currentPath === "/portfolio/about" ? "active" : ""} hover-trigger>About</a></li>
        <li><a href="/portfolio/archive" class={currentPath === "/portfolio/archive" ? "active" : ""} hover-trigger>Archive</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <slot />
  </main>

  <footer>
    <div class="footer-cta">
      <h2>Let"s build<br /><span class="text-accent">something bold.</span></h2>
    </div>
    
    <div class="social-links">
      <a href="https://www.linkedin.com/in/levilucena/" target="_blank" class="hover-trigger"><i class="fab fa-linkedin"></i> LinkedIn</a>
      <a href="https://github.com/LeviLucena" target="_blank" class="hover-trigger"><i class="fab fa-github"></i> GitHub</a>
      <a href="https://levilucena.github.io/portfolio/" target="_blank" class="hover-trigger"><i class="fas fa-briefcase"></i> Portfolio</a>
      <a href="https://www.kaggle.com/levilucena" target="_blank" class="hover-trigger"><i class="fab fa-kaggle"></i> Kaggle</a>
      <a href="https://www.hackerrank.com/profile/sr_lucen" target="_blank" class="hover-trigger"><i class="fab fa-hackerrank"></i> HackerRank</a>
    </div>
    
    <p style="margin-top: 3rem; opacity: 0.5; font-size: 0.8rem;">© {new Date().getFullYear()} Levi Lucena. Todos os direitos reservados.</p>
  </footer>

  <!-- Floating Amazon Store Button -->
  <a class="amazon-store-button hover-trigger" href="https://www.amazon.com.br/s?i=digital-text&rh=p_27%3ALevi%2BLucena&s=relevancerank&text=Levi+Lucena&ref=dp_byline_sr_ebooks_1" target="_blank" rel="noopener noreferrer">
    <i class="fas fa-shopping-cart"></i>
    <span class="amazon-store-text">Desperte seus Insights</span>
  </a>

  <!-- Buy me a coffee floating button -->
  <a class="coffee-button hover-trigger" href="https://www.paypal.com/donate/?hosted_button_id=58DYCL22CTERG" target="_blank">
    <span class="coffee-text">Buy me a coffee!</span>
    <span class="coffee-icon-wrapper">
      <i class="fas fa-coffee"></i>
      <span class="steam steam-1"></span>
      <span class="steam steam-2"></span>
    </span>
  </a>

  <!-- Theme Selector Button -->
  <button class="theme-toggle-btn hover-trigger" id="themeToggleBtn" aria-label="Selecionar tema">
    <i class="fas fa-palette"></i>
  </button>

  <!-- Theme Panel Overlay -->
  <div class="theme-overlay" id="themeOverlay"></div>

  <!-- Theme Panel -->
  <div class="theme-panel" id="themePanel">
    <div class="theme-panel-header">
      <h3><i class="fas fa-palette"></i> Temas</h3>
      <button class="theme-panel-close hover-trigger" id="themePanelClose">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="theme-grid">
      <button class="theme-option hover-trigger" data-theme="acid">
        <div class="theme-preview">
          <div class="theme-preview-bg" style="background-color: #050505;"></div>
          <div class="theme-preview-accent" style="background-color: #ccff00;"></div>
        </div>
        <span class="theme-name">Acid</span>
      </button>
      <button class="theme-option hover-trigger" data-theme="cyber">
        <div class="theme-preview">
          <div class="theme-preview-bg" style="background-color: #0a0a0f;"></div>
          <div class="theme-preview-accent" style="background-color: #00ffff;"></div>
        </div>
        <span class="theme-name">Cyber</span>
      </button>
      <button class="theme-option hover-trigger" data-theme="neon">
        <div class="theme-preview">
          <div class="theme-preview-bg" style="background-color: #0d0d0d;"></div>
          <div class="theme-preview-accent" style="background-color: #ff00ff;"></div>
        </div>
        <span class="theme-name">Neon</span>
      </button>
      <button class="theme-option hover-trigger" data-theme="fire">
        <div class="theme-preview">
          <div class="theme-preview-bg" style="background-color: #0f0805;"></div>
          <div class="theme-preview-accent" style="background-color: #ff6600;"></div>
        </div>
        <span class="theme-name">Fire</span>
      </button>
      <button class="theme-option hover-trigger" data-theme="ocean">
        <div class="theme-preview">
          <div class="theme-preview-bg" style="background-color: #051015;"></div>
          <div class="theme-preview-accent" style="background-color: #00bfff;"></div>
        </div>
        <span class="theme-name">Ocean</span>
      </button>
      <button class="theme-option hover-trigger" data-theme="sunset">
        <div class="theme-preview">
          <div class="theme-preview-bg" style="background-color: #150505;"></div>
          <div class="theme-preview-accent" style="background-color: #ff4757;"></div>
        </div>
        <span class="theme-name">Sunset</span>
      </button>
      <button class="theme-option hover-trigger" data-theme="gold">
        <div class="theme-preview">
          <div class="theme-preview-bg" style="background-color: #0a0a05;"></div>
          <div class="theme-preview-accent" style="background-color: #ffd700;"></div>
        </div>
        <span class="theme-name">Gold</span>
      </button>
      <button class="theme-option hover-trigger" data-theme="mint">
        <div class="theme-preview">
          <div class="theme-preview-bg" style="background-color: #050f0a;"></div>
          <div class="theme-preview-accent" style="background-color: #00ff7f;"></div>
        </div>
        <span class="theme-name">Mint</span>
      </button>
    </div>
  </div>

  <script is:inline>
    const cursor = document.getElementById("cursor");
    const hoverTriggers = document.querySelectorAll(".hover-trigger");

    document.addEventListener("mousemove", (e) => {
      cursor.style.left = e.clientX + "px";
      cursor.style.top = e.clientY + "px";
    });

    function addHoverListeners() {
      document.querySelectorAll(".hover-trigger").forEach(trigger => {
        trigger.addEventListener("mouseenter", () => {
          cursor.classList.add("hovered");
        });
        trigger.addEventListener("mouseleave", () => {
          cursor.classList.remove("hovered");
        });
      });
    }

    addHoverListeners();

    const magneticArea = document.getElementById("magneticArea");

    if (magneticArea) {
      const magneticBtn = magneticArea.querySelector(".magnetic-btn");

      magneticArea.addEventListener("mousemove", (e) => {
        const rect = magneticArea.getBoundingClientRect();
        const x = e.clientX - rect.left - rect.width / 2;
        const y = e.clientY - rect.top - rect.height / 2;
        magneticBtn.style.transform = `translate(${x * 0.2}px, ${y * 0.2}px)`;
      });

      magneticArea.addEventListener("mouseleave", () => {
        magneticBtn.style.transform = "translate(0px, 0px)";
      });
    }

    document.querySelectorAll("a[href^=\"#\"]").forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute("href"));
        if (target) {
          target.scrollIntoView({
            behavior: "smooth"
          });
        }
      });
    });

    // THEME SELECTOR
    const themeToggleBtn = document.getElementById("themeToggleBtn");
    const themePanel = document.getElementById("themePanel");
    const themeOverlay = document.getElementById("themeOverlay");
    const themePanelClose = document.getElementById("themePanelClose");
    const themeOptions = document.querySelectorAll(".theme-option");

    // Load saved theme
    const savedTheme = localStorage.getItem("portfolio-theme") || "acid";
    document.documentElement.setAttribute("data-theme", savedTheme);
    updateActiveTheme(savedTheme);

    // Toggle panel
    themeToggleBtn.addEventListener("click", () => {
      themePanel.classList.add("open");
      themeOverlay.classList.add("open");
    });

    // Close panel
    function closeThemePanel() {
      themePanel.classList.remove("open");
      themeOverlay.classList.remove("open");
    }

    themePanelClose.addEventListener("click", closeThemePanel);
    themeOverlay.addEventListener("click", closeThemePanel);

    // Theme selection
    themeOptions.forEach(option => {
      option.addEventListener("click", () => {
        const theme = option.getAttribute("data-theme");
        document.documentElement.setAttribute("data-theme", theme);
        localStorage.setItem("portfolio-theme", theme);
        updateActiveTheme(theme);
      });
    });

    function updateActiveTheme(theme) {
      themeOptions.forEach(option => {
        if (option.getAttribute("data-theme") === theme) {
          option.classList.add("active");
        } else {
          option.classList.remove("active");
        }
      });
    }

    // Close panel with Escape key
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        closeThemePanel();
      }
    });
  </script>
</body>
</html>
